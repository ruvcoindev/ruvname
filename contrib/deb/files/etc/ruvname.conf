# /etc/ruvname.conf

# Хэш первого блока в цепочке — используется для определения,
# с какими узлами можно взаимодействовать (только с теми, кто в той же сети)
origin = "067661AEE359CE85F95F6C3A3D994350979340011C0616D8296B0BF21E000000"

# Пути к файлам с вашими ключами (ключами подписи доменов)
# Эти файлы загружаются автоматически при запуске
key_files = [
    "/var/lib/ruvname/keys/key1.toml",
    "/var/lib/ruvname/keys/key2.toml",
    "/var/lib/ruvname/keys/key3.toml"
]
# Сколько последних блоков проверять при запуске
# Нужно для проверки целостности цепочки
check_blocks = 8

# Настройки сети
[net]

# Список узлов-бутстрапов (известных узлов, к которым подключается ваш узел при старте)
# Они помогают найти другие узлы в сети Ruvchain
peers = [
  "[fa00:4715:66fa:2bd:3032:b5d1:e86f:239c]:6890",  
  "[fa01:4d05:21d7:372b:2060:efe4:c759:a803]:6890",  
  "[fa00:a79c:1f4b:b5c7:956a:137a:8856:acfe]:6890"  
]

# Адрес, на котором ваш узел будет принимать подключения от других узлов
# [::]:6890 — значит, слушает на всех IPv6-интерфейсах на порту 6890
listen = "[::]:6890"

# Если true — ваш IP-адрес может участвовать в обмене с другими узлами (peer exchange)
# Если false — вы только подключаетесь, но не раздаёте свой IP
public = true

# Если true — разрешить подключения только из сети Ruvchain (fa00::/7 и fa01::/7)
# Если false — разрешить подключения из любого места (интернет)
ruvchain_only = false

# Настройки DNS-резолвера
[dns]

# Адрес и порт, на котором будет работать ваш DNS-сервер
# [::]:5312 — слушает на всех IPv6-адресах на порту 5312
# Вы можете использовать 127.0.0.1:53, если хотите работать по IPv4
listen = "[::]:5312"

# Количество потоков, которые DNS-сервер будет использовать для обработки запросов
# Чем больше — тем выше производительность (но и нагрузка на CPU)
threads = 10

# Список вышестоящих DNS-серверов (апстримов)
# Это могут быть DoH (DNS-over-HTTPS) или обычные UDP-серверы
# Запросы, которые не относятся к .ruv, будут отправлены сюда
# ВНИМАНИЕ: в конце строк есть пробелы — их нужно удалить!
forwarders = [
  "https://dns.ruvcha.in:8443/dns-query",   
  "https://dns.adguard.com/dns-query",      # AdGuard DoH 
  "https://dns.google/dns-query",           # Google DoH 
  "https://dns.comss.one/dns-query"         # DoH от Comss 
]

# Bootstrap-серверы — обычные DNS-серверы, используемые для разрешения имён DoH-провайдеров
# Например, чтобы узнать IP-адрес dns.ruvcha.in, нужно сначала его разрешить
# Используются только для DoH-адресов
bootstraps = ["9.9.9.9:53", "94.140.14.14:53", "1.1.1.1:53", "8.8.8.8:53"]

# Поддержка файла hosts — можно использовать для:
# - Блокировки рекламы (adblock.txt)
# - Локального разрешения имён (например, site.ruv -> 192.168.1.100)
# Раскомментируйте строку ниже, если у вас есть такой файл
# hosts = ["adblock.txt"]

# Настройки майнинга
[mining]

# Количество потоков CPU для майнинга
# 0 — использовать все доступные ядра
# Можно указать конкретное число (например, 2)
threads = 0

# Если true — понижать приоритет майнинга, чтобы не нагружать систему
# Полезно, если вы используете сервер для других задач
lower = false
